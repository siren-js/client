# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## Unreleased

### Added

- Support for element traversal via the [Visitor pattern](https://en.wikipedia.org/wiki/Visitor_pattern) ([#14](https://github.com/siren-js/client/issues/14))
  - `DefaultSirenElementVisitor` for visitors that don't need to visit every type of element
  - `LinkFinder` for searching an entity's links
  - `ActionFiller` for populating an action's fields
- Support for validating fields on action submission ([#16](https://github.com/siren-js/client/issues/16))
- Default JSON serializer ([#27](https://github.com/siren-js/client/issues/27))
- Advanced `submit` usage examples the JSDocs
- Default serializer is available for extension (see [`submit` docs](https://siren-js.github.io/client/functions/submit.html))

## [0.8.2] - 2023-08-01

### Fixed

- Custom header pairs (`[string, string][]`) are now merged correctly on action submit ([#35](https://github.com/siren-js/client/issues/35))

## [0.8.1] - 2023-05-25

### Added

- Usage docs for `resolve`
- Re-export for `Href` and `isHref` to round out docs

### Fixed

- Re-export `resolve` ([#32](https://github.com/siren-js/client/issues/32))

## [0.8.0] - 2023-05-25

### Added

- `resolve` function for resolving a `SubEntity`
- [Development section in the README](./README.md#development)

### Changed

- Project is now built with Node 18

### Removed

- Contribution guidelines and code of conduct, which now live [here](https://github.com/siren-js/.github/tree/main/profile)

## [0.7.0] - 2023-04-20

> **NOTE:** This release includes breaking changes from [v0.6.0](#060---2023-03-06).

### Added

- Support for relative URLs ([#21](https://github.com/siren-js/client/issues/21))

### Changed

- For supporting relative URLs ([#21](https://github.com/siren-js/client/issues/21)), `follow`'s `RequestInit` parameter is now nested in an options object
- `Serialization`'s `contentType` is now optional
- The default serializer no longer requires `checkbox` fields to use the `checked` extension ([#22](https://github.com/siren-js/client/issues/22))

### Fixed

- Submitting a `multipart/form-data` action now includes the `boundary` parameter ([#23](https://github.com/siren-js/client/issues/23))

## [0.6.2] - 2023-03-15

### Fixed

- `EmbeddedEntity`'s `properties` now default to an empty object ([#19](https://github.com/siren-js/client/issues/19))

## [0.6.1] - 2023-03-08

### Fixed

- Made `reflect-metadata` a non-dev dependency ([#18](https://github.com/siren-js/client/issues/18))

## [0.6.0] - 2023-03-06

> **NOTE:** This release includes breaking changes from [v0.5.0](#050---2022-01-22).

### Removed

- `SirenClient` has been removed in favor of top-level functions (see below)
- Support for Node.js has been removed (for now), primarily for serialization simplification ([#17](https://github.com/siren-js/client/issues/17)). Including polyfills for [`File`](https://developer.mozilla.org/en-US/docs/Web/API/File) and [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) may resolve this.

### Added

- Top-level `follow`, `submit`, and `parse` functions ([#12](https://github.com/siren-js/client/issues/12))
- API documentation generated by [TypeDoc](https://typedoc.org/)

### Changed

- Redefined Siren element classes from `@siren-js/core` ([#11](https://github.com/siren-js/client/issues/11))
- Simplified default serializer ([#17](https://github.com/siren-js/client/issues/17))

## [0.5.0] - 2022-01-22

### Added

- Default serializer for `multipart/form-data` actions ([#8](https://github.com/siren-js/client/issues/8))

## [0.4.0] - 2021-12-05

### Added

- Support for custom serializers
- Default serializer for `text/plain` actions

### Changed

- Upgraded `@siren-js/core` to v0.3.2
- Aligned newline normalization with HTML's algorithm for [converting an entry list to a list of name-value pairs](https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs), which normalizes newlines in fields' `name`s and values during action submission.

## [0.3.1] - 2021-06-12

### Changed

- Using `@web-std/file` in place of `web-file-polyfill` (fixes [#6](https://github.com/siren-js/client/issues/6))

## [0.3.0] - 2021-06-02

### Added

- The following field types are now supported in action submission:
  - [`file`](https://github.com/siren-js/spec-extensions#file-fields)
  - [`select`](https://github.com/siren-js/spec-extensions#select-fields)
  - [`textarea`](https://github.com/siren-js/spec-extensions#textarea-fields)

### Changed

- When creating entries for action submission, fields' `name` and `value` properties are [converted](https://infra.spec.whatwg.org/#javascript-string-convert) according to the HTML standard.

## [0.2.1] - 2021-05-19

### Fixed

- When submitting an action, non-`checkbox` and non-`radio` fields with no `value` property are submitted with an empty string value, rather than `"undefined"` ([#3](https://github.com/siren-js/client/issues/3)).

## [0.2.0] - 2021-05-18

### Added

- The client class now has a `headers` property for customizing HTTP headers sent in each request. The property can be initialized via the constructor's options object (see the [README](README.md#http-headers)).

## [0.1.0] - 2021-05-03

### Added

- Client class for communicating with a Siren server
  - `fetch()` method for hitting API entry point
  - `follow()` method for following links (including embedded links)
  - `submit()` method for submitting actions; currently, only actions whose `type` is `"application/x-www-form-urlencoded"` are supported.
- Client `Response` wrapper for parsing Siren responses

[0.8.2]: https://github.com/siren-js/client/compare/v0.8.1...v0.8.2
[0.8.1]: https://github.com/siren-js/client/compare/v0.8.0...v0.8.1
[0.8.0]: https://github.com/siren-js/client/compare/v0.7.0...v0.8.0
[0.7.0]: https://github.com/siren-js/client/compare/v0.6.2...v0.7.0
[0.6.2]: https://github.com/siren-js/client/compare/v0.6.1...v0.6.2
[0.6.1]: https://github.com/siren-js/client/compare/v0.6.0...v0.6.1
[0.6.0]: https://github.com/siren-js/client/compare/v0.5.0...v0.6.0
[0.5.0]: https://github.com/siren-js/client/compare/v0.4.0...v0.5.0
[0.4.0]: https://github.com/siren-js/client/compare/v0.3.1...v0.4.0
[0.3.1]: https://github.com/siren-js/client/compare/v0.3.0...v0.3.1
[0.3.0]: https://github.com/siren-js/client/compare/v0.2.1...v0.3.0
[0.2.1]: https://github.com/siren-js/client/compare/v0.2.0...v0.2.1
[0.2.0]: https://github.com/siren-js/client/compare/v0.1.0...v0.2.0
[0.1.0]: https://github.com/siren-js/client/releases/tag/v0.1.0
